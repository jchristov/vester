<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Vester | Algorithmic Trading for Everyone</title>
  <meta name="description" content="Vester is an easy-to-use Node.js framework for creating and running your own algorithmic trading systems.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/vester/styles/styles.css">
<link rel="stylesheet" href="/vester/css/prism.css" type="text/css"></head>
<body>

<header class="navbar navbar-top">
  <section class="navbar-section">
    <a href="/vester/" class="navbar-brand mr-2">vester</a>
  </section>
  <section class="navbar-section">
    <a target="_blank" href="#">
      <i class="icon-github"></i>
    </a>
  </section>
</header>

<aside class="sidebar">
  <ul class="nav">
    
      <li class="nav-item">
        <span class="nav-heading">Introduction</span>
        <ul class="nav">
          
            <li class="nav-item">
              <a class="" href="/vester/">Home</a>
              
            </li>
          
            <li class="nav-item">
              <a class="" href="/vester/prologue/quickstart">Quickstart</a>
              
            </li>
          
            <li class="nav-item">
              <a class="" href="/vester/prologue/api">API Reference</a>
              
            </li>
          
        </ul>
      </li>
    
      <li class="nav-item">
        <span class="nav-heading">Concepts</span>
        <ul class="nav">
          
            <li class="nav-item">
              <a class="" href="/vester/concepts/feeds">Feeds</a>
              
            </li>
          
            <li class="nav-item">
              <a class="active" href="/vester/concepts/buffer">Buffer</a>
              
            </li>
          
            <li class="nav-item">
              <a class="" href="/vester/concepts/middleware">Middleware</a>
              
                <ul class="nav">
                  
                    <li class="nav-item">
                      <a class="" href="/vester/concepts/middleware/notifier">Notifier</a>
                    </li>
                  
                    <li class="nav-item">
                      <a class="" href="/vester/concepts/middleware/logger">Logger</a>
                    </li>
                  
                    <li class="nav-item">
                      <a class="" href="/vester/concepts/middleware/journaler">Journaler</a>
                    </li>
                  
                    <li class="nav-item">
                      <a class="" href="/vester/concepts/middleware/risk-manager">Risk Manager</a>
                    </li>
                  
                    <li class="nav-item">
                      <a class="" href="/vester/concepts/middleware/broker">Broker</a>
                    </li>
                  
                </ul>
              
            </li>
          
            <li class="nav-item">
              <a class="" href="/vester/concepts/store">Store</a>
              
            </li>
          
            <li class="nav-item">
              <a class="" href="/vester/concepts/strategy">Strategy</a>
              
            </li>
          
        </ul>
      </li>
    
      <li class="nav-item">
        <span class="nav-heading">Guides</span>
        <ul class="nav">
          
            <li class="nav-item">
              <a class="" href="/vester/guides/build-a-moving-averages-algorithm">Build a Moving Averages Algorithm</a>
              
            </li>
          
            <li class="nav-item">
              <a class="" href="/vester/guides/build-a-cryptocurrency-trader">Build a Cryptocurrency Trader</a>
              
            </li>
          
            <li class="nav-item">
              <a class="" href="/vester/guides/build-a-steam-market-bot">Build a Steam Market Bot</a>
              
            </li>
          
        </ul>
      </li>
    
  </ul>
</aside>


<main class="main">
  <div class="content">
    <div class="container">
      <h1 id="Buffer"><a href="#Buffer" class="headerlink" title="Buffer"></a>Buffer</h1><p>In order to allow asynchronous operations in the strategy, there must be a place to store events until the strategy is ready to take on new ones. This is exactly what the Buffer is for. It is very unlikely that you would ever have to get in contact with the Buffer. However, it might be interesting to get an idea of how it works, and what makes it so speedy.</p>
<h2 id="The-Disruptor-Pattern"><a href="#The-Disruptor-Pattern" class="headerlink" title="The Disruptor Pattern"></a>The Disruptor Pattern</h2><p>At its core, the Buffer is simply a circular array, where each entry in the array corresponds to an event. The Buffer also has a collection of <em>producers</em> and <em>consumers</em> which, respectively, write and read into the Buffer. Here’s what <a href="https://martinfowler.com/articles/lmax.html#InputAndOutputDisruptors" target="_blank" rel="external">Martin Fowler</a> has to say about this design pattern:</p>
<blockquote>
<p>Each producer and consumer has a sequence counter to indicate which slot in the buffer it’s currently working on. Each producer/consumer writes its own sequence counter but can read the others’ sequence counters. This way the producer can read the consumers’ counters to ensure the slot it wants to write in is available without any locks on the counters. Similarly a consumer can ensure it only processes messages once another consumer is done with it by watching the counters.</p>
</blockquote>

      
        <footer class="navbar navbar-content">
          <section class="navbar-center">
            <a href="/vester/concepts/middleware" class="btn btn-primary">Next</a>
          </section>
        </footer>
      
    </div>
  </div>
</main>

<script src="/vester/scripts/scripts.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-102620419-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-102620419-1');
</script>
</body>
</html>


